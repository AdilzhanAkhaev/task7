<!DOCTYPE html>
<html>
<head>
<style>
#news{
	border:1px solid red;
	width:400px;
	height:300px;
}
</style>
</head>
<body>

<div id="news"></div>
<button id="sport">Load Sport news</button>
<button id="politics">Load Politics news</button>
<button id="bussiness">Load Bussiness news</button>


<script>
		
/* Write your code here */
var gs = document.getElementsByTagName('div');


var a1 = document.getElementById("sport");
var a2 = document.getElementById("politics");
var a3 = document.getElementById("bussiness");
var sport= "http://demo4296963.mockable.io/news-sport";
var bisnes="http://demo4296963.mockable.io/news-bussiness";
var polit="http://demo4296963.mockable.io/news-politics";
        
        function onStreamProceed(text) {
            console.log(text);
            newsDiv.innerHTML = text
        }
        function onSuccess(response) {
            console.log(response.status);
            response.text().then(onStreamProceed)
            
        }
        function onFail(error) {
            console.log("Error " + error);
        }
       a1.onclick = function() {
            fetch(sport).then(onSuccess, onFail)
        }
        
       a2.onclick = function() {
            fetch(polit).then(onSuccess, onFail)
        }
        
       a3.onclick = function() {
            fetch(bisnes).then(onSuccess, onFail)
        }


/*a1.onclick = function() {
	/*fetch(sport).then(function(response){
	return response.text().then(
		function(text){
			gs.innerHTML = text 
		}
		)
}
}

a2.onclick = function() {
	fetch(bisnes).then(
		function onSuccess(response) {
            console.log(response.status);
            response.text().then(function onStreamProceed(text) {
      
            gs.innerHTML = text
        })
            
        })
}
a3.onclick = function() {}







alert(sport[0])

function createNode(element){
	return document.createElement(element);
}

function append(parent,el){
	return parent.appendChild(el);
}
const ul = document.getElementById("news");

const url = 'http://demo4296963.mockable.io/news-bussiness'
alert(url7)
fetch(url)
.then((resp) => resp.json())
.then(function(data){
	let authors = dat.results;

	return authors.map(function(author){
		let h1 = createNode('h1'),
		p = createNode("p");
		alert("sdvfs")

		

		p.innerHTML="${author.name.first} ${author.name.last}";

		
		append(h1,span);
		append(ul,h1);


	})
})
.catch(function(error){
	console.log(JSON.stringify(error));
})*/
</script>
</body>
</html>